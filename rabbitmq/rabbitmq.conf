# ============================================================================
# CONFIGURACIÓN DE RABBITMQ PARA EDIFICIO APP
# ============================================================================

# =========== CONFIGURACIÓN DE LISTENERS ===========
# Puerto para conexiones AMQP (aplicaciones)
listeners.tcp.default = 5672

# =========== CONFIGURACIÓN DE LOGGING ===========
# Nivel de log (debug, info, warning, error)
log.console = true
log.console.level = info
log.file = true
log.file.level = info

# =========== CONFIGURACIÓN DE MEMORIA ===========
# Límite de memoria (50% de RAM disponible)
vm_memory_high_watermark.relative = 0.5

# =========== CONFIGURACIÓN DE DISCO ===========
# Límite de espacio en disco (1GB)
disk_free_limit.absolute = 1GB

# =========== CONFIGURACIÓN DE HEARTBEAT ===========
# Intervalo de heartbeat (600 segundos = 10 minutos)
heartbeat = 600

# =========== CONFIGURACIÓN DE CLUSTERING ===========
# Permitir clustering (para futuras expansiones)
cluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config

# =========== CONFIGURACIÓN DE MANAGEMENT ===========
# Habilitar Management UI
management.tcp.port = 15672
management.tcp.ip = 0.0.0.0

# =========== CONFIGURACIÓN DE POLÍTICAS ===========
# Política por defecto para TTL de mensajes (5 minutos)
# Esto evita que los mensajes se acumulen indefinidamente
default_message_ttl = 300000

# =========== CONFIGURACIÓN DE EXCHANGES ===========
# Permitir eliminación de exchanges no utilizados
default_exchange_type = topic

# =========== CONFIGURACIÓN DE SEGURIDAD ===========
# Deshabilitar guest user para producción (en desarrollo se mantiene)
loopback_users.guest = false

# =========== CONFIGURACIÓN DE CONEXIONES ===========
# Número máximo de conexiones concurrentes
connection_max = 1000

# Número máximo de canales por conexión
channel_max = 2000